(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["tile-showcase-popup"],{b1c7:function(e,t,i){"use strict";i.r(t);var n,a,o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ine-page__menu ine-menu ine-menu--popup ine-menu--addblockpopup ine-menu--from-right ine-menu--active"},[i("div",{staticClass:"ine-menu__inner"},[i("div",{staticClass:"ine-menu__body"},[i("div",{staticClass:"ine-menu__body-inner"},[i("div",{staticClass:"ine-tile-picker"},[i("div",{staticClass:"ine-tile-picker__sidebar"},[i("div",{staticClass:"ine-tile-picker__sidebar-inner"},[i("div",{staticClass:"ine-block ine-mb30"},[i("h1",{staticClass:"ine-title ine-title--h2"},[e._v(" "+e._s(e.i18n("TileShowcase.title"))+" ")])]),e._l(e.categoriesWithItems,(function(t,n){return i("div",{key:n,class:{"ine-block":!0,"ine-block--panel":e.selectedCategoryIndex===n}},[i("a",{staticClass:"ine-control ine-control--link ine-control--large ine-control--secondary ine-control--flexible",attrs:{tabindex:e.selectedCategoryIndex===n?-1:0},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.selectCategory(n)},click:function(t){return e.selectCategory(n)}}},[i("div",{staticClass:"ine-control__wrap"},[i("div",{staticClass:"ine-control__text"},[e._v(e._s(e.i18n("TileShowcase.category."+t.name+".name")))])])])])}))],2)]),i("div",{ref:"bodyRef",staticClass:"ine-tile-picker__body"},e._l(e.categoriesWithItems,(function(t,n){return i("div",{key:n,staticClass:"ine-tile-picker__section"},[i("div",{staticClass:"ine-title ine-title--h1 ine-title--primary"},[e._v(" "+e._s(e.i18n("TileShowcase.category."+t.name+".name"))+" ")]),i("div",{staticClass:"ine-subtitle"},[e._v(" "+e._s(e.i18n("TileShowcase.category."+t.name+".description"))+" ")]),i("div",{staticClass:"ine-tile-grid"},e._l(t.items,(function(t){return i("div",{key:t.id,class:{"ine-tile-grid__item":!0,"ine-tile-grid__item--left":t.alignment===e.TileShowcaseItemExtendedAlignment.LEFT,"ine-tile-grid__item--right":t.alignment===e.TileShowcaseItemExtendedAlignment.RIGHT}},[i("div",{staticClass:"ine-tile-grid__spacer",style:{paddingTop:t.previewHeight/t.previewWidth*100+"%"}}),i("a",{staticClass:"ine-tile-grid__image",style:{backgroundImage:"url("+e.i18n("TileShowcaseV2.item."+t.id+".preview_image_url")+")"},attrs:{tabindex:"0","aria-label":e.i18n("TileShowcaseV2.item."+t.id+".preview_image_url")},on:{keydown:function(i){return!i.type.indexOf("key")&&e._k(i.keyCode,"enter",13,i.key,"Enter")?null:e.addTile(t.id)},"~click":function(i){return e.addTile(t.id)}}})])})),0)])})),0)])])])])])},r=[],l=i("9ab4"),c=i("a6f4"),s=i("1f9c"),u=i("1e83"),d=i("01bc");function v(e,t,i){function n(){if(void 0!==e.value&&void 0===t.value)for(var n=e.value.children,a=e.value.scrollTop+.4*e.value.offsetHeight,o=n.length-1;o>=0;o-=1)if(n[o].offsetTop<a)return void(i.value=o)}return n}function _(e,t,i){var n=v(e,t,i);function a(){void 0!==e.value&&(e.value.addEventListener("scroll",n),n())}return a}function p(e,t,i){function n(n){if(i.value=n,void 0!==e.value){void 0!==t.value&&window.clearInterval(t.value),t.value=window.setTimeout((function(){t.value=void 0}),800);var a=e.value.children[n].offsetTop;e.value.scrollTo({top:a,behavior:"smooth"})}}return n}function f(e){function t(t){e.push({path:"/edit/"+t})}return t}function m(e,t){function i(i){e.dispatch({type:s["a"].ADD_TILE_FROM_SHOWCASE,payload:{tileShowcaseItemId:i}}).then((function(i){t(i.id),e.commit({type:u["a"].SET_POPUP,payload:{popup:void 0}})}))}return i}function g(e){switch(e){case a.COVER:return"cover";case a.SPECIAL_OFFER:return"special_offer";case a.COMPANY_INFO:return"company_info";case a.SHIPPING_PAYMENT:return"shipping_payment";case a.STORE:return"store";case a.LOCATION:return"location";default:throw new Error("Unknown tile showcase item category")}}function h(e){var t=[],i=0,a=0;return null===e||void 0===e||e.forEach((function(e){var o,r;i>a?(a+=null!==(o=null===e||void 0===e?void 0:e.previewHeight)&&void 0!==o?o:0,t.push(Object(l["a"])(Object(l["a"])({},e),{alignment:n.RIGHT}))):(i+=null!==(r=null===e||void 0===e?void 0:e.previewHeight)&&void 0!==r?r:0,t.push(Object(l["a"])(Object(l["a"])({},e),{alignment:n.LEFT})))})),t}(function(e){e[e["LEFT"]=0]="LEFT",e[e["RIGHT"]=1]="RIGHT"})(n||(n={})),function(e){e["COVER"]="COVER",e["SPECIAL_OFFER"]="SPECIAL_OFFER",e["COMPANY_INFO"]="COMPANY_INFO",e["SHIPPING_PAYMENT"]="SHIPPING_PAYMENT",e["STORE"]="STORE",e["LOCATION"]="LOCATION"}(a||(a={}));var y=Object(c["g"])({setup:function(e,t){var i=t.root;i.$store.dispatch({type:s["a"].GET_TILE_SHOWCASE_DATA});var a=Object(d["a"])(i.$store),o=Object(c["a"])((function(){return i.$store.state})),r=Object(c["a"])((function(){var e=o.value.tileShowcaseCategories;return e.map((function(e){return{type:e.type,name:g(e.type),items:h(e.items)}}))})),l=Object(c["F"])(),u=Object(c["F"])(void 0),v=Object(c["F"])(0),y=_(l,u,v),C=p(l,u,v),O=f(i.$router),T=m(i.$store,O);return Object(c["x"])((function(){y()})),{bodyRef:l,i18n:a,categoriesWithItems:r,selectedCategoryIndex:v,selectCategory:C,addTile:T,TileShowcaseItemExtendedAlignment:n}}}),C=y,O=C,T=i("2877"),b=Object(T["a"])(O,o,r,!1,null,null,null);t["default"]=b.exports}}]);
//# sourceMappingURL=tile-showcase-popup.js.map